<!-- Formulário Modal -->
<div class="modal-content" ng-controller="ShopProdutosCtrl">
    
    <!-- Cabeçalho -->
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()" aria-hidden="true">
            <span class="glyphicon glyphicon glyphicon-remove-circle" aria-hidden="true"></span>
        </button>
        <h4 class="modal-title" id="myModalLabel">
            <span class="" aria-label="Left Align">
                <i class="fa fa-pencil-square-o"></i>
                {{ title }}
            </span>

        </h4>
    </div>
    
    <!-- Formulário Corpo -->
    <div class="modal-body">
        
        <!-- Horizontal Form -->
        <form name="produtosForm" novalidate>
            <div class="panel-body">    
                <div class="row">
                    <uib-tabset active="activeForm">
                        <uib-tab index="0">
                            <uib-tab-heading>
                                <i class="fa fa-cube"></i> Produtos
                            </uib-tab-heading>
                            <div class="content pt-20 pl-20 pr-20">
                                <div class="row">
                                    <div class="form-group col-md-4">
                                        <label class="control-label text-left">Categoria:</label>
                                        <div class="pl-0 ml-0">
                                            <ui-select ng-model="produtos.cat_id" theme="bootstrap">
                                                <ui-select-match placeholder="Selecione ">{{$select.selected.title}}</ui-select-match>
                                                <ui-select-choices repeat="item.id as item in categorias | filter: $select.search">
                                                    <span ng-bind-html="item.title | highlight: $select.search"></span>
                                                </ui-select-choices>
                                            </ui-select>
                                        </div>
                                        <input type="hidden" ng-model="produtos.id">
                                    </div>
                                    <div class="col-lg-8 col-md-6 col-xs-12">
                                        <div class="form-group" ng-class="{ 'error' : produtosForm.produtos.title.$invalid && !produtosForm.produtos.title.$pristine }">
                                            <label>Titulo</label>
                                            <input type="text" class="form-control"  placeholder="Titulo ..." ng-model="produtos.title" required>
                                        </div>
                                    </div>
                                    <div class="col-lg-12 col-md-12 col-xs-12">
                                        <label>Foto</label>
                                        <div class="input-flat-file">
                                            <input type="file" ng-jcrop-input="upload" />
                                            <a class="btn-file">Upload de imagem</a>
                                        </div>
                                        <div class="row" ng-if="!obj.src">
                                            <div class="col-lg-6">
                                                <img ng-src="{{produtos.img}}" class="img-responsive">
                                            </div>
                                        </div>
                                        <div ng-jcrop="obj.src" ng-jcrop-config-name="upload" selection="obj.selection" thumbnail="obj.thumbnail" class="jcrop-box-float"></div>
                                    </div>
                                </div>
                            </div>
                        </uib-tab>
                        <uib-tab index="1">
                            <uib-tab-heading>
                                <i class="fa fa-cubes"></i> Produto Detalhes
                            </uib-tab-heading>
                                 <div class="content pt-20 pl-20 pr-20">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-xs-12">
                                            <div class="form-group" ng-class="{ 'error' : produtosForm.produtos.details.title.$invalid && !produtosForm.produtos.details.title.$pristine }">
                                                <label>Titulo do detalhes:</label>
                                                <input type="text" class="form-control"  placeholder="Nome da categoria ..." ng-model="produtos.details.title" required>
                                                <input type="hidden" ng-model="produtos.details.id" />
                                            </div>
                                        </div>
                                        <div class="form-group col-md-12">
                                            <label class="control-label text-left">Descrição:</label>
                                            <div text-angular data-ng-model="produtos.details.desc" ta-toolbar="taConf" ta-toolbar-button-class="btn-fill btn-sm" class="ta-min-height-150 ta-height-150"></div>
                                        </div>
                                    </div>
                                 </div>
                        </uib-tab>
                    </uib-tabset>

                </div>
            </div>
        </form>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer">
        <button ng-click="save()" type="button" class="btn btn-success btn-fill pull-left" ng-disabled="produtosForm.$invalid">Salvar</button>
        <button ng-click="cancel()" type="button" class="btn btn-default btn-fill pull-left">Fechar</button>
    </div>

</div>